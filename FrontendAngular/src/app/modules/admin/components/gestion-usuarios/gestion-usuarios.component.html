<div class="container mx-auto p-6">
  <div class="flex justify-between items-center mb-6">
    <h1 class="text-2xl font-bold text-gray-900">Gesti√≥n de Usuarios</h1>
    
    <button 
      *ngIf="vistaActual === 'lista'"
      (click)="mostrarCrear()"
      class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors"
    >
      Crear Usuario
    </button>

    <button 
      *ngIf="vistaActual !== 'lista'"
      (click)="mostrarLista()"
      class="bg-gray-600 hover:bg-gray-700 text-white px-4 py-2 rounded-lg transition-colors"
    >
      Volver a la Lista
    </button>
  </div>


  <div *ngIf="mensajeError" class="mb-4 p-4 bg-red-100 border border-red-400 text-red-700 rounded">
    {{ mensajeError }}
  </div>


  <app-lista-usuarios
    *ngIf="vistaActual === 'lista'"
    [usuarios]="usuarios"
    [cargando]="cargando"
    (editar)="mostrarEditar($event)"
    (ver)="mostrarDetalle($event)"
    (eliminar)="eliminarUsuario($event)"
  ></app-lista-usuarios>

  <app-crear-usuario
    *ngIf="vistaActual === 'crear'"
    (creado)="onUsuarioCreado()"
    (cancelar)="onCancelar()"
  ></app-crear-usuario>

  <app-editar-usuario
    *ngIf="vistaActual === 'editar' && usuarioSeleccionado"
    [usuario]="usuarioSeleccionado"
    (actualizado)="onUsuarioActualizado()"
    (cancelar)="onCancelar()"
  ></app-editar-usuario>


  <app-detalle-usuario
    *ngIf="vistaActual === 'detalle' && usuarioSeleccionado"
    [usuario]="usuarioSeleccionado"
    (editar)="mostrarEditar(usuarioSeleccionado!)"
  ></app-detalle-usuario>
</div>